// const { Configuration, OpenAIApi } = import ('openai');
import { Configuration, OpenAIApi } from 'openai';

const vocabCompletion = async (req, res) => {
  const configuration = new Configuration({
    apiKey: process.env.OPENAI_API_KEY,
  });
  const { subject, gradeLevel } = req.body;
  console.log('req param', req.body, subject, gradeLevel);
  const openai = new OpenAIApi(configuration);
  openai
    .createCompletion({
      model: 'text-davinci-002',
      prompt: `Subject: 11th grade economics<br/><br/>Task: Generate 10 vocabulary words related to macroeconomics<br/><br/>1. inflation<br/>2. deflation<br/>3. recession<br/>4. depression<br/>5. stagflation<br/>6. fiscal policy<br/>7. monetary policy<br/>8. supply and demand<br/>9. gross domestic product<br/>10. inflationary pressure<br/><br/>Define these words, give two different examples of them being used in the context of 11th grade economics.<br/><br/>1. Inflation<br/><br/>Definition: A sustained increase in the prices of goods and services in an economy<br/><br/>Example 1: Inflation can be caused by an increase in the money supply. Such as when the government prints more money.<br/><br/>Example 2: Inflation can lead to higher interest rates and lower economic growth. This typically leads to people spending less money because their money doesn't go as far.<br/><br/>2. Deflation<br/><br/>Definition: A sustained decrease in the prices of goods and services in an economy<br/><br/>Example 1: Deflation can be caused by a decrease in the money supply. This happens when banks stop lending money or when people start hoarding cash.<br/><br/>Example 2: Deflation can lead to lower interest rates and higher economic growth. Which in turn leads to people spending more money because their money goes further. Their money goes further because the prices of goods and services have decreased in order to attract buyers, who would rather hoard their cash or can't access cash because the banks won't loan any.<br/><br/>3. Recession<br/><br/>Definition: A temporary decline in economic activity<br/><br/>Example 1: A recession can be caused by a decrease in consumer spending.<br/><br/>Example 2: A recession can lead to higher unemployment and lower economic growth.<br/><br/>4. Depression<br/><br/>Definition: A prolonged and severe recession<br/><br/>Example 1: The Great Depression was a prolonged and severe recession that began in the United States in 1929.<br/><br/>Example 2: The Great Depression led to higher levels of unemployment and poverty.<br/><br/>5. Stagflation<br/><br/>Definition: A situation in which the prices of goods and services are rising while the economy is stagnating<br/><br/>Example 1: Stagflation can be caused by a decrease in aggregate demand. One example of this is when there is an increase in the price of oil.<br/><br/>Example 2: Stagflation can lead to higher unemployment and lower economic growth. Such as when people stop spending money and businesses stop hiring.<br/><br/>6. Fiscal policy<br/><br/>Definition: Government policy that affects taxation and spending<br/><br/>Example 1: Fiscal policy can be used to influence the level of economic activity. One example of this is using tax cuts to encourage consumer spending.<br/><br/>Example 2: Fiscal policy can be used to stabilize the economy during a recession.  One example of this is using government spending to create jobs.<br/><br/>7. Monetary policy<br/><br/>Definition: Government policy that affects the money supply and interest rates. An example of this is using interest rates to influence the level of economic activity.<br/><br/>Example 1: Monetary policy can be used to influence the level of economic activity. An example of this is using interest rates to influence the level of economic activity<br/><br/>Example 2: Monetary policy can be used to stabilize the economy during a recession.<br/><br/>8. Supply and demand<br/><br/>Definition: The interaction between buyers and sellers in the market that determines the price of a good or service<br/><br/>Example 1: The law of supply and demand says that the price of a good will rise when the demand for the good is greater than the supply. You can see this with the high prices of homes in cities like New York or Los Angeles.<br/><br/>Example 2: The law of supply and demand says that the price of a good will fall when the demand for the good is less than the supply. with the prices of goods after a holiday like Christmas when people are no longer buying as many gifts.<br/><br/>9. Gross domestic product<br/><br/>Definition: The total value of all goods and services produced in an economy<br/><br/>Example 1: Gross domestic product can be used to measure the level of economic activity.<br/><br/>Example 2: Gross domestic product can be used to compare the economic performance of different countries.<br/><br/>10. Inflationary pressure<br/><br/>Definition: The pressure on prices that results from inflation<br/><br/>Example 1: Inflationary pressure can lead to higher interest rates. One example is when the prices of goods and services are rising faster than the wages of workers.<br/><br/>Example 2: Inflationary pressure can lead to lower economic growth. An example of this is when businesses pass on the higher costs of goods to consumers in the form of higher prices.\n\n ### Subject: 9th grade AP Human Geography<br/><br/>Task: Generate 10 vocabulary words related to Counterurbanization<br/><br/>1. Urban<br/>2. Suburban<br/>3. Exurban<br/>4. Counterurbanization<br/>5. Central business district<br/>6. Urban sprawl<br/>7. Gentrification<br/>8. Smart growth<br/>9. New urbanism<br/>10. Transit-oriented development<br/><br/>Define these words, give two different examples of them being used in the context of 9th grade AP Human Geography.<br/><br/>1. Urban<br/><br/>Definition: Of, relating to, or located in a city<br/><br/>Example 1: The urban population of the United States is growing. The urban population is expected to grow by about 1% per year.<br/><br/>Example 2: Urban areas are typically more densely populated than rural areas. One example of this is that the average urban dweller in the United States lives in a housing unit that is about 2.5 times as dense as the average rural dweller.<br/><br/>2. Suburban<br/><br/>Definition: Of, relating to, or located in the suburbs of a city<br/><br/>Example 1: The suburban population of the United States is growing. One area where you can see this is in the Sun Belt states, where the suburban population is growing faster than the urban population<br/><br/>Example 2: Suburban areas are typically less densely populated than urban areas.  An example of a suburban area is a residential area with single-family homes, parks, and schools.<br/><br/>3. Exurban<br/><br/>Definition: Of, relating to, or located in the outer suburbs of a city<br/><br/>Example 1: The exurban population of the United States is growing. Cities such as Atlanta, Charlotte, and Houston have experienced exurban growth in recent years.<br/><br/>Example 2: Exurban areas are typically less densely populated than suburban areas. Some notable features of a typical exurban area are large lot sizes and a low density of population.<br/><br/>4. Counterurbanization<br/><br/>Definition: The movement of people from urban to suburban or exurban areas<br/><br/>Example 1: Counterurbanization is often driven by a desire for more space and a better quality of life. This is especially true for young families who want to move out of the city.<br/><br/>Example 2: Counterurbanization can lead to urban sprawl and the decline of central cities. You can see this in cities like Detroit, where the suburban population is growing while the urban population is declining.<br/><br/>5. Central business district<br/><br/>Definition: The downtown area of a city, typically containing the tallest office buildings and the busiest shops<br/><br/>Example 1: The central business district is often the most expensive place to live in a city. Such as in Manhattan, where the average rent for a studio apartment is over $3,000 per month.<br/><br/>Example 2: The central business district is often the most congested area of a city. Imagine trying to drive through Times Square in New York City during rush hour.<br/><br/>6. Urban sprawl<br/><br/>Definition: The uncontrolled growth of low-density development in suburban and exurban areas<br/><br/>Example 1: Urban sprawl can lead to the decline of central cities and the loss of open space.<br/><br/>Example 2: Urban sprawl can cause traffic congestion and air pollution.<br/><br/>7. Gentrification<br/><br/>Definition: The process by which middle- and upper-income people move into an urban area, leading to the displacement of lower-income residents<br/><br/>Example 1: Gentrification can lead to the displacement of lower-income residents and the transformation of neighborhoods.<br/><br/>Example 2: Gentrification can lead to higher property values and rents.<br/><br/>8. Smart growth<br/><br/>Definition: A planning strategy that promotes the development of compact, walkable, and mixed-use neighborhoods<br/><br/>Example 1: Smart growth can help reduce traffic congestion and air pollution.<br/><br/>Example 2: Smart growth can help preserve open space and promote economic development.<br/><br/>9. New urbanism<br/><br/>Definition: An urban planning movement that promotes the development of compact, walkable, and mixed-use neighborhoods<br/><br/>Example 1: New urbanism can help reduce traffic congestion and air pollution.<br/><br/>Example 2: New urbanism can help preserve open space and promote economic development.<br/><br/>10. Transit-oriented development<br/><br/>Definition: The development of compact, walkable, and mixed-use neighborhoods around public transportation hubs<br/><br/>Example 1: Transit-oriented development can help reduce traffic congestion and air pollution. An example of a transit-oriented development is a neighborhood with a light rail station.<br/><br/>Example 2: Transit-oriented development can help preserve open space and promote economic development. Just imagine if all the homes in your neighborhood were within walking distance of a grocery store, a park, and a school. \n\n ### Subject & Grade Level: ${gradeLevel}<br/><br/>Generate 10 vocabulary words related to ${subject}<br/><br/>`,
      temperature: 0.75,
      max_tokens: 1200,
      top_p: 1,
      frequency_penalty: 0.0,
      presence_penalty: 0,
      stop: [' ###'],
    })

    .then(response => {
      console.log('openai res ===', response.data);
      res.send(response.data);
    })

    .catch(err => {
      console.log('openai res err ===', err);
      return err;
    });
};

export { vocabCompletion };
